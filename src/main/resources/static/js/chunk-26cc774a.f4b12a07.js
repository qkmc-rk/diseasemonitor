(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26cc774a"],{"539a":function(e,t,s){},9017:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile"},[s("div",{staticClass:"window"},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.isloading,expression:"isloading"}],staticClass:"box-card"},[s("div",{staticClass:"text item"},[s("span",{staticClass:"item-text"},[e._v("手机号码")]),s("span",{staticClass:"item-text"},[e._v(e._s(e.serectPhone))]),s("el-link",{staticStyle:{color:"#0584D7"},attrs:{type:"primary"},on:{click:function(t){e.phoneVisible=!0}}},[e._v("修改")])],1),s("el-dialog",{staticClass:"form-dialog",attrs:{title:"修改手机号码",visible:e.phoneVisible},on:{"update:visible":function(t){e.phoneVisible=t}}},[s("div",{staticClass:"body"},[s("div",{staticClass:"phone-tips"},[e._v("发送验证码到手机"+e._s(e.serectPhone))]),s("div",{staticClass:"row"},[s("span",{staticClass:"input-title"},[e._v("验证码:")]),s("el-input",{staticClass:"form-input",attrs:{placeholder:"请输入验证码"},model:{value:e.phoneForm.check,callback:function(t){e.$set(e.phoneForm,"check",t)},expression:"phoneForm.check"}}),s("verifycode",{attrs:{givecheckmsg:e.checkPhoneRight},on:{sendverify:e.sendToMdfPhone}})],1)]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.phoneVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.changePhone}},[e._v("确 定")])],1)]),s("el-dialog",{staticClass:"form-dialog",attrs:{title:"修改手机号码",visible:e.phoneBoxVisible},on:{"update:visible":function(t){e.phoneBoxVisible=t}}},[s("div",{staticClass:"body"},[s("div",{staticClass:"row"},[s("span",{staticClass:"input-title",staticStyle:{"text-align":"right"}},[e._v("新手机号:")]),s("el-input",{staticClass:"form-input",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入新手机号"},model:{value:e.phoneBox.newphone,callback:function(t){e.$set(e.phoneBox,"newphone",t)},expression:"phoneBox.newphone"}})],1),s("div",{staticClass:"row"},[s("span",{staticClass:"input-title"},[e._v("验证码:")]),s("el-input",{staticClass:"form-input",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入验证码"},model:{value:e.phoneBox.check,callback:function(t){e.$set(e.phoneBox,"check",t)},expression:"phoneBox.check"}}),s("verifycode",{attrs:{givecheckmsg:e.changePhoneRight},on:{sendverify:e.sendTONewPhone}})],1)]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.phoneBoxVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitPhone}},[e._v("确 定")])],1)]),s("div",{staticClass:"text item"},[s("span",{staticClass:"item-text"},[e._v("用户名")]),s("span",{staticClass:"item-text"},[e._v(e._s(e.nickName))]),s("el-link",{staticStyle:{color:"#0584D7"},attrs:{type:"primary"},on:{click:function(t){e.nameVisible=!0}}},[e._v("修改")])],1),s("el-dialog",{staticClass:"form-dialog",attrs:{title:"修改用户名",visible:e.nameVisible},on:{"update:visible":function(t){e.nameVisible=t}}},[s("div",{staticClass:"body"},[s("span",{staticClass:"input-title"},[e._v("用户名:")]),s("el-input",{staticClass:"form-input",attrs:{placeholder:"请输入用户名"},model:{value:e.nameForm.name,callback:function(t){e.$set(e.nameForm,"name",t)},expression:"nameForm.name"}})],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.nameVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.userchange}},[e._v("确 定")])],1)]),s("div",{staticClass:"text item"},[s("span",{staticClass:"item-text"},[e._v("密码")]),s("span",{staticClass:"item-text"},[e._v("******")]),s("el-link",{staticStyle:{color:"#0584D7"},attrs:{type:"primary"},on:{click:function(t){e.pswBoxVisible=!0}}},[e._v("修改")])],1),s("el-dialog",{staticClass:"form-dialog",attrs:{title:"修改密码",visible:e.pswBoxVisible},on:{"update:visible":function(t){e.pswBoxVisible=t}}},[s("div",{staticClass:"body"},[s("div",{staticClass:"phone-tips"},[e._v("发送验证码到手机"+e._s(e.serectPhone))]),s("div",{staticClass:"row"},[s("span",{staticClass:"input-title"},[e._v("验证码:")]),s("el-input",{staticClass:"form-input",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入验证码"},model:{value:e.pswBox.check,callback:function(t){e.$set(e.pswBox,"check",t)},expression:"pswBox.check"}}),s("verifycode",{attrs:{givecheckmsg:e.checkPswRight},on:{sendverify:e.sendToMdfPsw}})],1)]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.pswBoxVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.pswNextStep}},[e._v("确 定")])],1)]),s("el-dialog",{staticClass:"form-dialog",attrs:{title:"修改密码",visible:e.pswVisible},on:{"update:visible":function(t){e.pswVisible=t}}},[s("div",{staticClass:"body"},[s("div",{staticClass:"row"},[s("span",{staticClass:"input-title",staticStyle:{"text-align":"right"}},[e._v("新密码:")]),s("el-input",{staticClass:"form-input",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.pswForm.psw,callback:function(t){e.$set(e.pswForm,"psw",t)},expression:"pswForm.psw"}})],1),s("div",{staticClass:"row"},[s("span",{staticClass:"input-title"},[e._v("重复密码:")]),s("el-input",{staticClass:"form-input",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请再次输入新密码",type:"password"},model:{value:e.pswForm.checkpsw,callback:function(t){e.$set(e.pswForm,"checkpsw",t)},expression:"pswForm.checkpsw"}})],1)]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.pswVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.submitPsw}},[e._v("确 定")])],1)]),s("div",{staticClass:"text item"},[s("span",{staticClass:"item-text"},[e._v("注册日期")]),s("span",{staticClass:"item-text"},[e._v(e._s(e.createTime))])])],1)],1)])},o=[],n=(s("c1f4"),s("c354"),s("3a20"),s("ef8e"),s("252a"),s("8f0e"),s("1ae0")),a=s("6bf2"),c=s.n(a),l=s("4f912"),r=s("f9e0"),p=s("9328"),h={components:{Myinput:l["a"],verifycode:p["a"]},data:function(){return{checkPhoneRight:!1,checkPswRight:!1,changePhoneRight:!1,phoneVisible:!1,phoneForm:{check:""},phoneBoxVisible:!1,phoneBox:{newphone:"",check:""},nameVisible:!1,nameForm:{name:""},pswVisible:!1,pswForm:{psw:"",checkpsw:""},pswBoxVisible:!1,pswBox:{check:""},userName:"",nickName:"",phone:"",createTime:"",formLabelWidth:"120px",isloading:!1}},computed:{serectPhone:function(){return this.phone.slice(0,3)+"****"+this.phone.slice(7)}},watch:{},methods:{sendTONewPhone:function(){var e=this;Object(n["t"])({phone:this.phoneBox.newphone}).then((function(t){console.log("您的模拟验证码为"+t.data.CODE),e.changePhoneRight=!0})).finally((function(){e.changePhoneRight=!1}))},sendToMdfPhone:function(){var e=this;Object(n["x"])({phone:this.phone}).then((function(t){e.checkPhoneRight=!0,console.log("模拟验证码为:"+t.data.CODE)})).finally((function(){e.checkPhoneRight=!1}))},sendToMdfPsw:function(){var e=this;Object(n["x"])({phone:this.phone}).then((function(t){t.data.SUCCESS&&(e.checkPswRight=!0,console.log("模拟验证码为:"+t.data.CODE))})).finally((function(){e.checkPswRight=!1}))},changePhone:function(){var e=this;4===this.phoneForm.check.length?Object(n["M"])({phoneCode:this.phoneForm.check}).then((function(t){1===t.status?(e.phoneVisible=!1,e.phoneBoxVisible=!0,e.phoneForm.check=""):e.$message({message:"验证码有误",type:"error"})})):this.$message({message:"请输入有效的验证码!",type:"error"})},pswNextStep:function(){var e=this;4===this.pswBox.check.length?Object(n["M"])({phoneCode:this.pswBox.check}).then((function(t){1==t.status&&(e.pswBoxVisible=!1,e.pswVisible=!0,e.pswBox.check="")})):this.$message({message:"请输入正确验证码!",type:"error"})},submitPsw:function(){var e=this;this.pswForm.psw?this.pswForm.psw.length>16||this.pswForm.psw.length<6?this.$message({message:"密码长度在6-16位之间!",type:"error"}):this.pswForm.psw===this.pswForm.checkpsw?Object(n["E"])({newPassword:this.pswForm.psw}).then((function(t){1==t.status&&(e.$message({message:"修改成功!",type:"success"}),e.pswVisible=!1,e.pswForm.psw="",e.pswForm.checkpsw="")})):this.$message({message:"两次密码不一致!",type:"error"}):this.$message({message:"请输入密码!",type:"error"})},changeImg:function(){this.getCheckImg()},getCheckImg:function(){var e=this;Object(n["m"])().then((function(t){var s=t.data,i=window.URL.createObjectURL(s);e.checkUrl=i}))},getUser:function(){var e=this;this.isloading=!0,Object(n["z"])().then((function(t){1==t.status?(e.userName=t.data.userName,e.phone=t.data.phone,e.nickName=t.data.nickName,e.createTime=c()(t.data.createTime).format("YYYY/MM/DD"),e.$store.commit({type:"changeUsername",name:e.nickName}),sessionStorage.setItem("username",e.nickName)):Object(n["k"])()})).catch((function(){Object(n["k"])()})).finally((function(){e.isloading=!1}))},submitPhone:function(){var e=this;4===this.phoneBox.check.length?/^1[3456789]\d{9}$/.test(this.phoneBox.newphone)?Object(n["F"])({phone:this.phoneBox.newphone,phoneCode:this.phoneBox.check}).then((function(t){1==t.status&&(e.$message({message:"修改成功!",type:"success"}),e.phoneBoxVisible=!1,e.phoneBox.newphone="",e.phoneBox.check="",e.getUser())})):this.$message({message:"请输入有效手机号!",type:"error"}):this.$message({message:"请输入有效验证码!",type:"error"})},userchange:function(){var e=this;if(""!==this.nameForm.name){var t={nickName:this.nameForm.name};Object(n["D"])(t).then((function(s){e.nickName=1==s.status?t.nickName:e.nickName})),this.nameVisible=!1,this.nameForm.name=""}else this.$message({message:"用户名不能为空!",type:"error"})}},created:function(){},mounted:function(){this.getUser(),this.getCheckImg(),Object(r["initDg"])()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},m=h,u=(s("c7ba"),s("623f")),f=Object(u["a"])(m,i,o,!1,null,"0f287cc9",null);t["default"]=f.exports},c1f4:function(e,t,s){"use strict";var i=s("91fe"),o=s("d68d"),n=s("a8c9"),a=s("0192"),c=s("684e"),l=s("8c47"),r=s("01d7"),p=s("57c4"),h=s("b1a1"),m=s("6885"),u=h("slice"),f=m("slice",{ACCESSORS:!0,0:0,1:2}),d=p("species"),v=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!u||!f},{slice:function(e,t){var s,i,p,h=l(this),m=c(h.length),u=a(e,m),f=a(void 0===t?m:t,m);if(n(h)&&(s=h.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?o(s)&&(s=s[d],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return v.call(h,u,f);for(i=new(void 0===s?Array:s)(g(f-u,0)),p=0;u<f;u++,p++)u in h&&r(i,p,h[u]);return i.length=p,i}})},c7ba:function(e,t,s){"use strict";var i=s("539a"),o=s.n(i);o.a}}]);
//# sourceMappingURL=chunk-26cc774a.f4b12a07.js.map