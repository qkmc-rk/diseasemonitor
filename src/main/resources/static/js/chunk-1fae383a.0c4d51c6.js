(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fae383a"],{"021b":function(t,e,n){"use strict";var a=n("407d").forEach,i=n("fb11"),o=n("6885"),c=i("forEach"),r=o("forEach");t.exports=c&&r?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1a8c":function(t,e,n){"use strict";var a=n("91fe"),i=n("407d").map,o=n("b1a1"),c=n("6885"),r=o("map"),s=c("map");a({target:"Array",proto:!0,forced:!r||!s},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},3132:function(t,e,n){var a=n("d68d"),i=n("a8c9"),o=n("57c4"),c=o("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?a(n)&&(n=n[c],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"407d":function(t,e,n){var a=n("0b29"),i=n("fee7"),o=n("ee6f"),c=n("684e"),r=n("3132"),s=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(p,h,m,g){for(var b,S,v=o(p),L=i(v),w=a(h,m,3),y=c(L.length),T=0,k=g||r,C=e?k(p,y):n?k(p,0):void 0;y>T;T++)if((d||T in L)&&(b=L[T],S=w(b,T,v),t))if(e)C[T]=S;else if(S)switch(t){case 3:return!0;case 5:return b;case 6:return T;case 2:s.call(C,b)}else if(u)return!1;return f?-1:l||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},"41f6":function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"9a14":function(t,e,n){var a=n("d5dc"),i=n("41f6"),o=n("021b"),c=n("2ba5");for(var r in i){var s=a[r],l=s&&s.prototype;if(l&&l.forEach!==o)try{c(l,"forEach",o)}catch(u){l.forEach=o}}},ac6d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"msg-control"},[n("el-button",{staticClass:"del-btn",attrs:{type:"danger",icon:"el-icon-delete",plain:""},on:{click:t.deleteAll}},[t._v("删除")]),n("el-button",{staticClass:"readed-btn",attrs:{type:"primary",plain:"",icon:"el-icon-check"},on:{click:t.checkAll}},[t._v("标记为已读")])],1),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark","header-row-class-name":"header-class"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"100"}}),n("el-table-column",{attrs:{label:"消息内容",width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"msg-content",class:{isNew:e.row.isNew}},[t._v(t._s(e.row.msg))])]}}])}),n("el-table-column",{attrs:{prop:"create_time",label:"时间",width:"350"}}),n("el-table-column",{attrs:{prop:"address",label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{staticStyle:{color:"#D70505","font-weight":"bold"},attrs:{type:"danger",id:e.row.id},on:{click:function(n){return t.deleteOne(e.row.id)}}},[t._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":!0,total:t.total}})],1)},i=[],o=(n("af82"),n("1a8c"),n("3a20"),n("9a14"),n("c281")),c=n("6bf2"),r=n.n(c),s=(n("f1ac"),{components:{},data:function(){return{tableData:[],multipleSelection:[],currentPage:0,pageSize:10,total:0}},computed:{},watch:{},methods:{toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t},deleteAll:function(){var t=this;this.multipleSelection.length>0&&Object(o["a"])({data:this.multipleSelection}).then((function(e){1===e.data.status&&(t.$message.success("删除成功"),t.getNewList())})).catch((function(e){t.$message.error("删除失败,请重试")})).finally((function(){t.$refs.multipleTable.clearSelection()}))},checkAll:function(){var t=this;this.multipleSelection.length>0&&Object(o["d"])(this.multipleSelection.map((function(t){return{id:t.id}}))).then((function(e){1===e.data.status&&(console.log(e),console.log("读取成功"),t.getNewList())})).catch((function(e){t.$message.error("更新失败,请重试")})).finally((function(){t.$refs.multipleTable.clearSelection()}))},deleteOne:function(t){var e=this;this.$confirm("确定要删除此条信息吗?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["a"])({data:[{id:t}]}).then((function(t){console.log(t),1===t.data.status&&(e.$message.success("删除成功"),e.getNewList())}))}))},getNewList:function(){var t=this;Object(o["c"])({pageNum:this.currentPage,pageSize:this.pageSize}).then((function(e){1===e.status?(console.log(e),t.total=e.data.totalElements,t.tableData=e.data.result.map((function(t){return t.msg="您的新订单: 订单单号".concat(t.order_sn,",请进入订单管理页面查看"),t.create_time=r()(1e3*t.create_time).format("YYYY-MM-DD HH:mm:ss"),t.isNew=!t.if_new,t}))):t.tableData=[]}))}},created:function(){},mounted:function(){this.getNewList()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}}),l=s,u=(n("da47"),n("623f")),f=Object(u["a"])(l,a,i,!1,null,null,null);e["default"]=f.exports},af82:function(t,e,n){"use strict";var a=n("91fe"),i=n("021b");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},c281:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return u}));var a=n("1ae0"),i=n("82ae"),o=n.n(i),c=o.a.create({baseURL:a["f"]});c.interceptors.request.use((function(t){return t.headers=Object.assign({},t.headers,{token:sessionStorage.getItem("token")}),t.headers["Content-Type"]="application/json;charset=UTF-8",t}));var r=function(){return a["d"].get("/notice/tip")},s=function(t){return a["d"].get("/notice",{params:t})},l=function(t){return c.delete("/notice/delete",t)},u=function(t){return c.post("/notice/read",t)}},da47:function(t,e,n){"use strict";var a=n("ffcd"),i=n.n(a);i.a},f1ac:function(t,e){},ffcd:function(t,e,n){}}]);
//# sourceMappingURL=chunk-1fae383a.0c4d51c6.js.map