(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fb9bbe7"],{"03fa":function(t,e,n){var a=n("3193"),i=n("2d82"),r="["+i+"]",o=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"1a8c":function(t,e,n){"use strict";var a=n("91fe"),i=n("407d").map,r=n("b1a1"),o=n("6885"),s=r("map"),c=o("map");a({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"202f":function(t,e,n){},"2d82":function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"3c4a":function(t,e,n){"use strict";var a=n("91fe"),i=n("f240"),r=n("51cf"),o=n("61ef"),s=n("f30e"),c=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},f=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));a({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,n,a,s,c=r(this),d=i(t),h=[0,0,0,0,0,0],p="",m="0",b=function(t,e){var n=-1,a=e;while(++n<6)a+=t*h[n],h[n]=a%1e7,a=l(a/1e7)},g=function(t){var e=6,n=0;while(--e>=0)n+=h[e],h[e]=l(n/t),n=n%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var n=String(h[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=f(c*u(2,69,1))-69,n=e<0?c*u(2,-e,1):c/u(2,e,1),n*=4503599627370496,e=52-e,e>0){b(0,n),a=d;while(a>=7)b(1e7,0),a-=7;b(u(10,a,1),0),a=e-1;while(a>=23)g(1<<23),a-=23;g(1<<a),b(1,1),g(2),m=y()}else b(0,n),b(1<<-e,0),m=y()+o.call("0",d);return d>0?(s=m.length,m=p+(s<=d?"0."+o.call("0",d-s)+m:m.slice(0,s-d)+"."+m.slice(s-d))):m=p+m,m}})},"51cf":function(t,e,n){var a=n("67ea");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"60f2":function(t,e,n){var a=n("d68d"),i=n("4ce0");t.exports=function(t,e,n){var r,o;return i&&"function"==typeof(r=e.constructor)&&r!==n&&a(o=r.prototype)&&o!==n.prototype&&i(t,o),t}},"61ef":function(t,e,n){"use strict";var a=n("f240"),i=n("3193");t.exports="".repeat||function(t){var e=String(i(this)),n="",r=a(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},"77d6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("withTab",{attrs:{tabArray:t.orderTabArray},on:{handleTabChange:t.tabChange}}),n("withSearch",{on:{handlesearch:t.toSearch}}),n("with-table",{attrs:{isloading:t.isloading,list:t.list,currentPage:t.currentPage,totalElements:t.totalElements},on:{refresh:t.refreshList,pagechange:t.pagechange}})],1)},i=[],r=(n("1a8c"),n("3c4a"),n("3a20"),n("d07a")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("span",{staticClass:"tips"},[t._v("下单时间:")]),n("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入开始时间"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),n("span",{staticClass:"sperator"},[t._v("一")]),n("el-date-picker",{attrs:{type:"datetime",placeholder:"请输入结束时间"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),n("span",{staticClass:"holder"}),n("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.searchSelect,callback:function(e){t.searchSelect=e},expression:"searchSelect"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("el-input",{staticClass:"searchinput",attrs:{placeholder:"请输入搜索内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),n("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("查询")])],1)},s=[],c=n("6bf2"),l=n.n(c),u={components:{},data:function(){return{startTime:"",endTime:"",options:[{value:"orderSn",label:"订单编号"},{value:"phone",label:"手机号"},{value:"logisticsSn",label:"运单号"},{value:"payable",label:"订单金额"},{value:"company",label:"送检单位"}],searchSelect:"订单编号",defaultValue:"orderSn",input:""}},computed:{},watch:{},methods:{initStyle:function(){function t(){for(var t=document.querySelectorAll(".el-input__inner"),e=0;e<t.length;e++)t[e].style.height="35px"}this.$nextTick((function(){t()}))},handleSearch:function(){this.startTime&&!this.endTime||!this.startTime&&this.endTime?(this.$message({message:"日期需成对输入才会生效",type:"warning"}),this.startTime="",this.endTime=""):this.startTime&&this.endTime&&"string"==typeof this.startTime&&(this.startTime=l()(this.startTime,"YYYY-MM-DD HH:mm:ss").valueOf(),this.endTime=l()(this.endTime,"YYYY-MM-DD HH:mm:ss").valueOf()),this.$emit("handlesearch",{startTime:parseInt(this.startTime/1e3),endTime:parseInt(this.endTime/1e3),searchValue:this.input,key:this.defaultValue})},selectChange:function(t){this.defaultValue=t}},created:function(){},mounted:function(){this.initStyle()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},f=u,d=(n("83b7"),n("623f")),h=Object(d["a"])(f,o,s,!1,null,"448c4c44",null),p=h.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"450","cell-style":t.cellStyle,"header-cell-style":t.headerStyle}},[n("el-table-column",{staticStyle:{padding:"30px"},attrs:{label:"订单号",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{height:"40px"}},[t._v(t._s(e.row.orderId))])]}}])}),n("el-table-column",{attrs:{label:"手机号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.phoneNum))])]}}])}),n("el-table-column",{attrs:{label:"运单号",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.logisticsNum))])]}}])}),n("el-table-column",{attrs:{label:"下单时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.updateTime))])]}}])}),n("el-table-column",{attrs:{label:"订单金额",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"table-money"},[t._v("￥"+t._s(e.row.price))])]}}])}),n("el-table-column",{attrs:{label:"送检单位",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.to))])]}}])}),n("el-table-column",{attrs:{label:"订单状态",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.state))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{staticClass:"checkbtn",staticStyle:{"margin-right":"20px",color:"#0584D7"},attrs:{type:"primary"},on:{click:function(n){return t.handleDetail(e.$index,e.row)}}},[t._v("查看")]),"运输中"==e.row.state?n("el-link",{staticClass:"checkbtn",staticStyle:{color:"#0584D7"},attrs:{type:"primary"},on:{click:function(n){return t.handleCheck(e.$index,e.row)}}},[t._v("确认收货")]):t._e()]}}])}),t._t("operator")],2),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":!0,"current-page":this.currentPage+1,total:this.totalElements},on:{"current-change":t.pagechange}})],1)},b=[],g=(n("f4a0"),n("ce49"),n("1ae0")),y={components:{},props:{isloading:Boolean,list:Array,currentPage:Number,totalElements:Number},data:function(){return{tableData:[],loading:this.isloading}},computed:{},watch:{isloading:function(t){this.loading=t},list:function(t){this.initTable(),this.tableData=t},totalElements:function(t){this.totalElements=t},currentPage:function(t){this.currentPage=t}},methods:{pagechange:function(t){this.$emit("pagechange",t)},cellStyle:function(){return{padding:"7px 0"}},headerStyle:function(){return{backgroundColor:"#FAFAFA",color:"#333333"}},handleDetail:function(t,e){this.$router.push({path:"order-detail",query:{orderSn:e.orderId}})},handleCheck:function(t,e){var n=this;this.$confirm("请确认你已收到样本","",{confirmButtonText:"收到了",cancelButtonText:"没收到",type:"warning"}).then((function(){Object(g["L"])(e.orderId).then((function(t){n.$message({type:"success",message:"确认收货成功!"}),n.$emit("refresh")})).catch((function(){n.$message({message:"网络超时",type:"error"})}))})).catch((function(){n.$message({type:"info",message:"已取消"})}))},initTable:function(){this.$nextTick((function(){var t=document.querySelector("tr .cell");t.style.paddingLeft="20px";var e=8,n=e,a=document.querySelectorAll(".el-table__row .cell");for(var i in a)i%n==0&&(a[i].style.paddingLeft="20px");document.querySelector(".el-table__body").style.width="100%",document.querySelector(".el-table__header").style.width="100%"}))}},created:function(){},mounted:function(){this.initTable()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},v=y,T=(n("a15a"),Object(d["a"])(v,m,b,!1,null,"458d21d8",null)),_=T.exports,S={components:{withTab:r["a"],withSearch:p,withTable:_},name:"order",data:function(){return{orderTabArray:["所有订单","待付款","待寄样","运输中","检测中","已完成","已取消"],isloading:!1,totalElements:0,currentPage:0,list:[],state:"",startTime:"",endTime:"",key:"orderSn",searchValue:""}},computed:{},watch:{},methods:{tabChange:function(t){this.state=t,this.currentPage=0,this.getList()},toSearch:function(t){this.startTime=t.startTime,this.endTime=t.endTime,this.key=t.key,this.searchValue=t.searchValue,this.getList()},formatListToTable:function(t){var e={},n={0:"已取消",1:"待付款",2:"待寄样",3:"运输中",4:"检测中",5:"已完成",6:"退款中"};e.orderId=t.order_sn,e.phoneNum=t.phone,e.logisticsNum=t.logistics_sn?t.logistics_sn:"暂无",e.updateTime=l()(1e3*t.create_time).format("YYYY/MM/DD HH:mm:ss"),e.price=t.payable.toFixed(2),e.to=t.company,e.state=n[t.status],this.list.push(e)},getList:function(){var t=this;this.isloading=!0,this.list=[];var e={pageSize:10,pageNum:this.currentPage};this.startTime&&this.endTime&&(e=Object.assign({},e,{startTime:this.startTime,endTime:this.endTime})),this.searchValue&&(e[this.key]=this.searchValue),this.state&&(e.status=this.state),Object(g["w"])(e).then((function(e){if(1===e.status){var n=e.data,a=n.result;t.totalElements=n.totalElements,t.currentPage=n.currentPage,a.map((function(e){t.formatListToTable(e)}))}else Object(g["h"])().then((function(e){1!=e.status&&-1==e.data.status&&t.$alert("身份信息过期,请重新登录!","提示",{confirmButtonText:"确定",callback:function(e){t.$router.push("/login")}})}))})).catch((function(){Object(g["k"])()})).finally((function(){t.isloading=!1}))},pagechange:function(t){this.currentPage=t-1,this.getList()},refreshList:function(){this.getList()}},created:function(){},mounted:function(){this.getList()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){this.$route.params.needFresh&&this.getList()},deactivated:function(){}},w=S,x=Object(d["a"])(w,a,i,!1,null,"4a52aa8e",null);e["default"]=x.exports},"7dd7":function(t,e,n){},"83b7":function(t,e,n){"use strict";var a=n("dd4b"),i=n.n(a);i.a},a15a:function(t,e,n){"use strict";var a=n("202f"),i=n.n(a);i.a},c05e:function(t,e,n){"use strict";var a=n("7dd7"),i=n.n(a);i.a},d07a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabArray,(function(t,e){return n("el-tab-pane",{key:t,attrs:{label:t,name:e.toString()}})})),1)],1)},i=[],r=(n("c354"),{0:0,1:1,2:2,3:3,4:4,5:5,6:6}),o={0:"",1:"1",2:"2",3:"3",4:"4",5:"5",6:"0"},s="#0584D7",c={components:{},props:{tabArray:Array,left:{type:String,default:"25"}},data:function(){return{activeName:"0"}},computed:{},watch:{},methods:{handleClick:function(t){this.getActiveStyle(r[t.name]),this.$emit("handleTabChange",o[t.index])},getActiveStyle:function(t){for(var e=document.getElementsByClassName("el-tabs__item"),n=0;n<e.length;n++)n==t?(e[n].style.fontSize="16px",e[n].style.color=s,e[n].style.fontWeight="bold"):(e[n].style.fontSize="14px",e[n].style.color="#333",e[n].style.fontWeight="normal")},initItemStyle:function(){var t=this;this.$nextTick((function(){var e=document.querySelector(".el-tabs__active-bar");e.style.backgroundColor=s;var n=document.querySelector("#tab-0");n.style.paddingRight="20px";var a=20,i=n.offsetWidth-a/2;e.style.width=i+"px";var r=document.querySelector(".el-tabs__nav"),o=r;o.style.transition="none",o.style.position="relative",o.style.left=t.left+"%",o.style.fontSize="14px",t.getActiveStyle(0)}))}},created:function(){},mounted:function(){this.initItemStyle()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},l=c,u=(n("c05e"),n("623f")),f=Object(u["a"])(l,a,i,!1,null,"3514abc6",null);e["a"]=f.exports},dd4b:function(t,e,n){},f4a0:function(t,e,n){"use strict";var a=n("7a23"),i=n("d5dc"),r=n("12d9"),o=n("3d8a"),s=n("f28d"),c=n("67ea"),l=n("60f2"),u=n("7dc7"),f=n("f30e"),d=n("641d"),h=n("65af").f,p=n("4aef").f,m=n("c223").f,b=n("03fa").trim,g="Number",y=i[g],v=y.prototype,T=c(d(v))==g,_=function(t){var e,n,a,i,r,o,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+l}for(r=l.slice(2),o=r.length,s=0;s<o;s++)if(c=r.charCodeAt(s),c<48||c>i)return NaN;return parseInt(r,a)}return+l};if(r(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(T?f((function(){v.valueOf.call(n)})):c(n)!=g)?l(new y(_(e)),n,w):_(e)},x=a?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)s(y,S=x[k])&&!s(w,S)&&m(w,S,p(y,S));w.prototype=v,v.constructor=w,o(i,g,w)}}}]);
//# sourceMappingURL=chunk-6fb9bbe7.b3dac163.js.map