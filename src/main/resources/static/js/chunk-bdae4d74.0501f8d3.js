(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdae4d74"],{"81a5":function(t,e,n){},b079:function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{},[n("div",{staticClass:"logtips"},[t._t("name")],2),n("div",{staticClass:"window"},[t._t("form")],2),n("div",{staticClass:"control"},[t._t("login")],2),n("div",{staticClass:"changepsw"},[t._t("changestate")],2),t._t("other")],2)])},r=[],s={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},o=s,a=(n("e7f8"),n("623f")),i=Object(a["a"])(o,c,r,!1,null,"184144a0",null);e["a"]=i.exports},bdce:function(t,e,n){"use strict";var c=n("da7b"),r=n.n(c);r.a},da7b:function(t,e,n){},dc3f:function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("logintemplate",[n("span",{attrs:{slot:"name"},slot:"name"},[t._v("登录")]),n("div",{attrs:{slot:"form"},slot:"form"},[n("myInput",{attrs:{type:"phone",formValue:t.form.username,err:t.accounterr,errorMsg:this.accountErrMsg,placeholder:"请输入手机号"},on:{rulecheck:t.checkaccount}}),n("myInput",{attrs:{type:"password",placeholder:"请输入密码",formValue:t.form.password,errorMsg:this.pswErrMsg,err:this.pswerr},on:{rulecheck:t.checkpsw}}),t.needCheck?n("myInput",{attrs:{type:"check",placeholder:"请输入验证码",formValue:t.form.check,errorMsg:t.checkErrMsg,err:this.checkerr,checkUrl:t.checkUrl},on:{rulecheck:t.checkNum,repeatcheck:t.OnceCheck}}):t._e()],1),n("div",{attrs:{slot:"login"},slot:"login"},[n("el-button",{staticClass:"loginbtn",attrs:{type:"primary",loading:t.isLoading},on:{click:t.login}},[t._v("登录")])],1),n("div",{attrs:{slot:"changestate"},slot:"changestate"},[n("el-link",{staticClass:"pswbtn phonebtn",attrs:{type:"info"},on:{click:t.loginByPhone}},[t._v("手机登录")]),n("el-link",{staticClass:"pswbtn",attrs:{type:"info"},on:{click:t.changePsw}},[t._v("忘记密码?")])],1)])},r=[],s=(n("3a20"),n("ef8e"),n("252a"),n("8f0e"),n("4f912")),o=n("b079"),a=n("1ae0"),i={components:{myInput:s["a"],logintemplate:o["a"]},data:function(){return{form:{username:"",password:"",check:""},pswerr:!1,pswErrMsg:"",accounterr:!1,accountErrMsg:"",checkerr:!1,isLoading:!1,needCheck:!1,checkUrl:"",checkErrMsg:""}},computed:{},watch:{},methods:{ifCheck:function(){var t=this;Object(a["G"])().then((function(e){t.needCheck=e.data})).catch((function(){t.$message.error("网络不畅,请稍后重试!")})).then((function(){t.needCheck&&Object(a["m"])().then((function(e){var n=e.data,c=window.URL.createObjectURL(n);t.checkUrl=c}))}))},checkNum:function(t){this.form.check=t,4!==t.length?(this.checkerr=!0,this.checkErrMsg="请输入四位验证码"):this.checkerr=!1},checkaccount:function(t){this.form.username=t,t?/^1[3456789]\d{9}$/.test(t)?this.accounterr=!1:(this.accounterr=!0,this.accountErrMsg="请输入正确的手机号"):(this.accounterr=!0,this.accountErrMsg="手机号不能为空")},checkpsw:function(t){this.form.password=t,t?this.pswerr=!1:(this.pswerr=!0,this.pswErrMsg="密码不能为空")},login:function(){var t=this;this.isLoading=!0;Object(a["b"])({verifyCode:this.form.check,username:this.form.username,password:this.form.password}).then((function(e){if(1==e.status)sessionStorage.setItem("token",e.data),t.$router.push("/manager");else{var n=e.data.message,c=/用户/,r=/密码/;c.test(n)?(t.accounterr=!0,t.accountErrMsg=n):r.test(n)?(t.pswerr=!0,t.pswErrMsg=n):(t.checkerr=!0,t.checkErrMsg=n),t.ifCheck()}})).catch((function(e){t.$message({message:"服务器错误,请稍后重试",type:"error"})})).finally((function(){t.isLoading=!1}))},changePsw:function(){this.$router.push("step1")},OnceCheck:function(){this.ifCheck()},loginByPhone:function(){this.$router.push("byPhone")}},created:function(){},mounted:function(){this.OnceCheck()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},u=i,h=(n("bdce"),n("623f")),f=Object(h["a"])(u,c,r,!1,null,"1b454608",null);e["default"]=f.exports},e7f8:function(t,e,n){"use strict";var c=n("81a5"),r=n.n(c);r.a}}]);
//# sourceMappingURL=chunk-bdae4d74.0501f8d3.js.map